\documentclass{article}
\usepackage[stex]{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}[creators={Marcel Sch√ºtz}]{symmetric-difference-is-commutative.ftl}
  \importmodule[naproche/examples/foundations]{def/classes?symmetric-difference.ftl}
  \importmodule[naproche/examples/foundations]{def/classes?subclass.ftl}

  \begin{fproposition*}[label=8814809074106368]
    Let $A, B, C$ be classes.
    Then \[\symdiff{\symdiff{A}{B}}{C} = \symdiff{A}{\symdiff{B}{C}}. \]
  \end{fproposition*}
  \begin{fproof}
    Take a class $X$ such that $X = \union{\complement{\union{\complement{A}{B},\complement{B}{A}}}{C},\complement{C}{\union{\complement{A}{B},\complement{B}{A}}}}$.

    Take a class $Y$ such that $Y = \union{\complement{A}{\union{\complement{B}{C},\complement{C}{B}}},\complement{\union{\complement{B}{C},\complement{C}{B}}}{A}}$.

    We have $\symdiff{A}{B} = \union{\complement{A}{B},\complement{B}{A}}$ and
    $\symdiff{B}{C} = \union{\complement{B}{C},\complement{C}{B}}$.
    Hence $\symdiff{\symdiff{A}{B}}{C} = X$ and $\symdiff{A}{\symdiff{B}{C}} = Y$.

    Let us show that (I) $X \subclass[eq] Y$.
      Let $x \in X$.

      (I 1) Case $x \in \complement{\union{\complement{A}{B},\complement{B}{A}}}{C}$.
        Then $x \notin C$.

        (I 1a) Case $x \in \complement{A}{B}$.
          Then $x \notin \complement{B}{C}$ and $x \notin \complement{C}{B}$.
          $x \in A$.
          Hence $x \in \complement{A}{\union{\complement{B}{C},\complement{C}{B}}}$.
          Thus $x \in Y$.
        End.

        (I 1b) Case $x \in \complement{B}{A}$.
          Then $x \in \complement{B}{C}$.
          Hence $x \in \union{\complement{B}{C},\complement{C}{B}}$.
          $x \notin A$.
          Thus $x \in \complement{\union{\complement{B}{C},\complement{C}{B}}}{A}$.
          Therefore $x \in Y$.
        End.
      End.

      (I 2) Case $x \in \complement{C}{\union{\complement{A}{B},\complement{B}{A}}}$.
        Then $x \in C$.
        $x \notin \complement{A}{B}$ and $x \notin \complement{B}{A}$.
        Hence not ($x \in \complement{A}{B}$ or $x \in \complement{B}{A}$).
        Thus not (($x \in A$ and $x \notin B$) or ($x \in B$ and $x \notin A$)).
        Therefore ($x \notin A$ or $x \in B$) and ($x \notin B$ or $x \in A$).

        (I 2a) Case $x \in A$.
          Then $x \in B$.
          Hence $x \notin \union{\complement{B}{C},\complement{C}{B}}$.
          Thus $x \in \complement{A}{\union{\complement{B}{C},\complement{C}{B}}}$.
          Therefore $x \in Y$.
        End.

        (I 2b) Case $x \notin A$.
          Then $x \notin B$.
          Hence $x \in \complement{C}{B}$.
          Thus $x \in \union{\complement{B}{C},\complement{C}{B}}$.
          Therefore $x \in \complement{\union{\complement{B}{C},\complement{C}{B}}}{A}$.
          Then we have $x \in Y$.
        End.
      End.
    End.

    Let us show that (II) $Y \subclass[eq] X$.
      Let $y \in Y$.

      (II 1) Case $y \in \complement{A}{\union{\complement{B}{C},\complement{C}{B}}}$.
        Then $y \in A$.
        $y \notin \complement{B}{C}$ and $y \notin \complement{C}{B}$.
        Hence not ($y \in \complement{B}{C}$ or $y \in \complement{C}{B}$).
        Thus not (($y \in B$ and $y \notin C$) or ($y \in C$ and $y \notin B$)).
        Therefore ($y \notin B$ or $y \in C$) and ($y \notin C$ or $y \in B$).

        (II 1a) Case $y \in B$.
          Then $y \in C$.
          $y \notin \complement{A}{B}$ and $y \notin \complement{B}{A}$.
          Hence $y \notin \union{\complement{A}{B},\complement{B}{A}}$.
          Thus $y \in \complement{C}{\union{\complement{A}{B},\complement{B}{A}}}$.
          Therefore $y \in X$.
        End.

        (II 1b) Case $y \notin B$.
          Then $y \notin C$.
          $y \in \complement{A}{B}$.
          Hence $y \in \union{\complement{A}{B},\complement{B}{A}}$.
          Thus $y \in \complement{\union{\complement{A}{B},\complement{B}{A}}}{C}$.
          Therefore $y \in X$.
        End.
      End.

      (II 2) Case $y \in \complement{\union{\complement{B}{C},\complement{C}{B}}}{A}$.
        Then $y \notin A$.

        (II 2a) Case $y \in \complement{B}{C}$.
          Then $y \in \complement{B}{A}$.
          Hence $y \in \union{\complement{A}{B},\complement{B}{A}}$.
          Thus $y \in \complement{\union{\complement{A}{B},\complement{B}{A}}}{C}$.
          Therefore $y \in X$.
        End.

        (II 2b) Case $y \in \complement{C}{B}$.
          Then $y \in C$.
          $y \notin \complement{A}{B}$ and $y \notin \complement{B}{A}$.
          Hence $y \notin \union{\complement{A}{B},\complement{B}{A}}$.
          Thus $y \in \complement{C}{\union{\complement{A}{B},\complement{B}{A}}}$.
          Therefore $y \in X$.
        End.
      End.
    End.
  \end{fproof}
\end{smodule}
\end{document}
