\documentclass{article}
\usepackage[stex]{naproche}
\libinput{preamble}
\begin{document}
\begin{smodule}[creators={Marcel Sch√ºtz}]{complement-of-products.ftl}
  \importmodule[naproche/examples/foundations]{def/classes?product.ftl}
  \importmodule[naproche/examples/foundations]{def/classes?complement.ftl}
  \importmodule[naproche/examples/foundations]{def/classes?union.ftl}
  \importmodule[naproche/examples/foundations]{def/classes?subclass.ftl}

  \begin{fproposition*}[label=8691986596888576]
    Let $A, A', B, B'$ be classes.
    Then \[\complement{\prod{A,B}}{\prod{A',B'}} = \union{\prod{A,\complement{B}{B'}},\prod{\complement{A}{A'},B}}.\]
  \end{fproposition*}
  \begin{fproof}
    Let us show that $\complement{\prod{A,B}}{\prod{A',B'}} \subclass[eq] \union{\prod{A,\complement{B}{B'}},\prod{\complement{A}{A'},B}}$.
      Let $x \in \complement{\prod{A,B}}{\prod{A',B'}}$.
      Then $x \in \prod{A}{B}$ and $x \notin \prod{A',B'}$.
      Take $a \in A$ and $b \in B$ such that $x = \tuple{a,b}$.
      Then it is wrong that $a \in A'$ and $b \in B'$.
      Hence $a \notin A'$ or $b \notin B'$.
      Thus $a \in \complement{A}{A'}$ or $b \in \complement{B}{B'}$.
      Therefore $x \in \prod{A,\complement{B}{B'}}$ or
      $x \in \prod{\complement{A}{A'},B}$.
      Hence we have $x \in \union{\prod{A,\complement{B}{B'}},\prod{\complement{A}{A'},B}}$.
    End.

    Let us show that $\union{\prod{A,\complement{B}{B'}},\prod{\complement{A}{A'},B}} \subclass[eq] \complement{\prod{A,B}}{\prod{A',B'}}$.
      Let $x \in \union{\prod{A,\complement{B}{B'}},\prod{\complement{A}{A'},B}}$.
      Then $x \in \prod{A,\complement{B}{B'}}$ or $x \in \prod{\complement{A}{A'},B}$.
      Take elements $a,b$ such that $x = \tuple{a,b}$.
      Then ($a \in A$ and $b \in \complement{B}{B'}$) or ($a \in \complement{A}{A'}$ and $b \in B$).

      Case $a \in A$ and $b \in \complement{B}{B'}$.
        Then $a \in A$ and $b \in B$.
        Hence $x \in \prod{A,B}$.
        We have $b \notin B'$.
        Thus $x \notin \prod{A',B'}$.
        Therefore $x \in \complement{\prod{A,B}}{\prod{A',B'}}$.
      End.

      Case $a \in \complement{A}{A'}$ and $b \in B$.
        Then $a \in A$ and $b \in B$.
        Hence $x \in \prod{A,B}$.
        We have $a \notin A'$.
        Thus $x \notin \prod{A',B'}$.
        Therefore $x \in \complement{\prod{A,B}}{\prod{A',B'}}$.
      End.
    End.
  \end{fproof}
\end{smodule}
\end{document}
